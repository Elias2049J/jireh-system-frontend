<div class="container-fluid mt-4">
  <div class="row mb-4">
    <div class="col-12 text-center">
      <div class="btn-group">
        <button class="btn btn-primary mx-2">Ver todos los platos</button>
        <button (click)="showForm = true" class="btn btn-success mx-2">Añadir Menú</button>
        <button class="btn btn-danger mx-2">Eliminar Menú</button>
        <button class="btn btn-outline-secondary mx-2" (click)="toggleView()">
          {{ showTableView ? 'Vista de tarjetas' : 'Vista de tabla' }}
        </button>
      </div>
    </div>
  </div>
  @if (showForm) {
    <app-menu-form
      (menuData)="onDataEntered($event)"
      (exitEvent)="showForm=false">
    </app-menu-form>
  }
  @if (!showTableView) {
    <div class="row row-cols-1 row-cols-md-3 g-4">
      @if (menus$ | async; as menus) {
        @for (menu of menus; track menu.idMenu) {
          <div class="col">
            <div class="card h-100">
              <div class="card-body">
                <h5 class="card-title">{{ menu.name.toLocaleUpperCase() }}</h5>
                <a [routerLink]="['/menu', menu.idMenu, 'products']" class="stretched-link">
                  <img src="" class="card-img-bottom" alt="{{menu.name}}">
                </a>
              </div>
            </div>
          </div>
        }
      } @else {
        <div class="col-12 text-center">
          <p class="text-muted">Aun no hay menus</p>
        </div>
      }
    </div>
  } @else {
    <div class="table-responsive" style="max-height: 70vh; height: 70vh; overflow-y: auto">
      <table class="table table-striped table-hover">
        <thead class="table-dark sticky-top">
          <tr>
            <th>ID</th>
            <th>Nombre</th>
            <th>Área de preparación</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          @if (menus$ | async; as menus) {
            @for (menu of menus; track menu.idMenu) {
              <tr>
                <td>{{ menu.idMenu }}</td>
                <td>{{ menu.name }}</td>
                <td>{{ menu.printArea }}</td>
                <td>
                  <a [routerLink]="['/menu', menu.idMenu, 'products']" class="btn btn-sm btn-outline-primary">Ver productos</a>
                </td>
              </tr>
            }
          } @else {
            <tr>
              <td colspan="4" class="text-center py-3">Aun no hay menus</td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
</div>
